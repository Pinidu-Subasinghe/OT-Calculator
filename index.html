<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mona+Sans:ital,wght@0,200..900;1,200..900&display=swap"
        rel="stylesheet">
    <title>Overtime Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body,
        html {
            height: 100%;
            font-family: 'Mona Sans', sans-serif;
            color: #fff;
        }

        #bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
            pointer-events: none;
            /* disables play button / interaction */
        }

        header {
            text-align: center;
            padding: 20px;
            font-size: 2rem;
            font-weight: bold;
            letter-spacing: 2px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.25);
            position: relative;
        }

        /* GitHub link inside header */
        .github-link {
            font-size: 0.9rem;
            font-weight: normal;
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .github-link img {
            width: 18px;
            height: 18px;
            filter: invert(1);
        }

        .github-link a {
            color: #fff;
            text-decoration: none;
            font-size: 0.85rem;
        }

        .github-link a:hover {
            text-decoration: underline;
        }

        /* Footer styling */
        footer {
            text-align: center;
            padding: 12px;
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.25);
            position: fixed;
            bottom: 0;
            width: 100%;
        }

        footer a {
            color: #ff7f50;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            min-height: calc(100% - 80px);
            /* use min-height instead of fixed height */
            padding: 20px;
            gap: 20px;
        }

        .left,
        .right {
            flex: 1;
            min-width: 320px;
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            /* translucent background */
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            border-radius: 28px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* subtle hover motion */
        .left:hover,
        .right:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
        }


        h2 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            border-left: 4px solid #ff7f50;
            padding-left: 10px;
        }

        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: 500;
        }

        input[type="date"] {
            font-family: "Mona Sans", sans-serif;
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: none;
            outline: none;
            margin-bottom: 15px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        button {
            font-family: "Mona Sans", sans-serif;
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(90deg, #ff7f50, #ff5722);
            color: #fff;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 127, 80, 0.5);
        }

        .result-box {
            margin-top: 20px;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.6;
        }

        ul {
            list-style: disc;
            padding-left: 20px;
        }

        ul li {
            padding: 6px 0;
            border-bottom: none;
        }

        @media (max-width: 600px) {
            header {
                font-size: 1.4rem;
                /* smaller font on mobile */
                white-space: nowrap;
                /* force single line */
                overflow: hidden;
                /* hide if it overflows */
                text-overflow: ellipsis;
                /* add ... if too long */
            }
        }
    </style>
</head>

<body>
    <video autoplay muted loop playsinline id="bg-video">
        <source src="moon.mp4" type="video/mp4">
    </video>


    <header>
        ✨ Overtime Calculator ✨
        <span class="github-link">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub" />
            <a href="https://github.com/Pinidu-Subasinghe" target="_blank">Pinidu-Subasinghe</a>
        </span>
    </header>
    <div class="container">
        <!-- Left Section -->
        <div class="left">
            <h2>Enter Details</h2>
            <label for="start">Start Date:</label>
            <input type="date" id="start">
            <label for="end">End Date:</label>
            <input type="date" id="end">
            <button onclick="calculateOT()">Calculate Overtime</button>
            <div id="result" class="result-box"></div>
        </div>

        <!-- Right Section -->
        <div class="right">
            <h2>Weekend & Public Holiday Info</h2>
            <p>Normal Working Day OT: <strong>18.75 hrs/day</strong></p>
            <br>
            <p>Weekend & Public Holiday OT: <strong>27 hrs/day</strong></p>
            <br>

            <p>Weekends in Period:</p>
            <ul id="weekends"></ul>
            <br>

            <p>Public Holidays in Period:</p>
            <ul id="holidays"></ul>
        </div>
    </div>

    <script>
        const OT_RATE = 74.3;
        const WEEKDAY_HOURS = 18.75;
        const WEEKEND_HOURS = 27;

        // === PUBLIC HOLIDAYS UNTIL 2027 ===
        const PUBLIC_HOLIDAYS = {
            "2025-01-13": "Duruthu Full Moon Poya Day",
            "2025-01-14": "Tamil Thai Pongal Day",
            "2025-02-04": "National Day",
            "2025-02-12": "Navam Full Moon Poya Day",
            "2025-02-26": "Mahasivarathri Day",
            "2025-03-13": "Madin Full Moon Poya Day",
            "2025-03-31": "Id Ul-Fitr",
            "2025-04-12": "Bak Full Moon Poya Day",
            "2025-04-13": "Day prior to Sinhala & Tamil New Year Day",
            "2025-04-14": "Sinhala & Tamil New Year Day",
            "2025-04-18": "Good Friday",
            "2025-05-01": "May Day",
            "2025-05-12": "Vesak Full Moon Poya Day",
            "2025-05-13": "Day following Vesak Full Moon Poya Day",
            "2025-06-07": "Id Ul-Alha",
            "2025-06-10": "Poson Full Moon Poya Day",
            "2025-07-10": "Esala Full Moon Poya Day",
            "2025-08-08": "Nikini Full Moon Poya Day",
            "2025-09-05": "Milad un-Nabi",
            "2025-09-07": "Binara Full Moon Poya Day",
            "2025-10-06": "Vap Full Moon Poya Day",
            "2025-10-20": "Deepavali",
            "2025-11-05": "Ill Full Moon Poya Day",
            "2025-12-04": "Unduvap Full Moon Poya Day",
            "2025-12-25": "Christmas Day",
            "2026-01-03": "Duruthu Full Moon Poya Day",
            "2026-01-15": "Tamil Thai Pongal Day",
            "2026-02-01": "Navam Full Moon Poya Day",
            "2026-02-04": "National Day",
            "2026-02-15": "Mahasivarathri Day",
            "2026-03-02": "Madin Full Moon Poya Day",
            "2026-03-21": "Id Ul-Fitr",
            "2026-04-01": "Bak Full Moon Poya Day",
            "2026-04-03": "Good Friday",
            "2026-04-13": "Day prior to Sinhala & Tamil New Year Day",
            "2026-04-14": "Sinhala & Tamil New Year Day",
            "2026-05-01": "May Day & Vesak Full Moon Poya Day",
            "2026-05-02": "Day following Vesak Full Moon Poya Day",
            "2026-05-28": "Id Ul-Alha",
            "2026-05-30": "Adhi Poson Full Moon Poya Day",
            "2026-06-29": "Poson Full Moon Poya Day",
            "2026-07-29": "Esala Full Moon Poya Day",
            "2026-08-26": "Milad un-Nabi",
            "2026-08-27": "Nikini Full Moon Poya Day",
            "2026-09-26": "Binara Full Moon Poya Day",
            "2026-10-25": "Vap Full Moon Poya Day",
            "2026-11-08": "Deepavali",
            "2026-11-24": "Ill Full Moon Poya Day",
            "2026-12-23": "Unduvap Full Moon Poya Day",
            "2026-12-25": "Christmas Day",
            "2027-01-15": "Tamil Thai Pongal Day",
            "2027-01-22": "Duruthu Full Moon Poya Day",
            "2027-02-04": "National Day",
            "2027-02-20": "Navam Full Moon Poya Day",
            "2027-03-06": "Mahasivarathri Day",
            "2027-03-10": "Id Ul-Fitr",
            "2027-03-21": "Madin Full Moon Poya Day",
            "2027-03-26": "Good Friday",
            "2027-04-13": "Day prior to Sinhala & Tamil New Year Day",
            "2027-04-14": "Sinhala & Tamil New Year Day",
            "2027-04-20": "Bak Full Moon Poya Day",
            "2027-05-01": "May Day",
            "2027-05-17": "Id Ul-Alha",
            "2027-05-20": "Vesak Full Moon Poya Day",
            "2027-05-21": "Day following Vesak Full Moon Poya Day",
            "2027-06-18": "Poson Full Moon Poya Day",
            "2027-07-18": "Esala Full Moon Poya Day",
            "2027-08-15": "Milad un-Nabi",
            "2027-08-16": "Nikini Full Moon Poya Day",
            "2027-09-15": "Binara Full Moon Poya Day",
            "2027-10-15": "Vap Full Moon Poya Day",
            "2027-10-28": "Deepavali",
            "2027-11-13": "Ill Full Moon Poya Day",
            "2027-12-13": "Unduvap Full Moon Poya Day",
            "2027-12-25": "Christmas Day"
        };

        function isWeekend(date) {
            let day = date.getDay();
            return (day === 0 || day === 6);
        }
        function formatDateISO(date) {
            return date.toISOString().split("T")[0];
        }
        function isPublicHoliday(date) {
            return PUBLIC_HOLIDAYS[formatDateISO(date)] !== undefined;
        }

        function calculateOT() {
            let startInput = document.getElementById("start").value;
            let endInput = document.getElementById("end").value;
            if (!startInput || !endInput) {
                document.getElementById("result").innerHTML = "<p>Please enter both dates!</p>";
                return;
            }

            let start = new Date(startInput);
            let end = new Date(endInput);
            if (start > end) {
                document.getElementById("result").innerHTML = "<p>Start date must be before end date!</p>";
                return;
            }

            let weekdayCount = 0, weekendCount = 0, holidayCount = 0;
            let weekendList = [], holidayList = [];
            let current = new Date(start);

            while (current <= end) {
                let iso = formatDateISO(current);
                if (isWeekend(current)) {
                    weekendCount++;
                    weekendList.push(current.toDateString());
                } else if (isPublicHoliday(current)) {
                    holidayCount++;
                    holidayList.push(`${current.toDateString()} – ${PUBLIC_HOLIDAYS[iso]}`);
                } else {
                    weekdayCount++;
                }
                current.setDate(current.getDate() + 1);
            }

            let totalWeekdayHours = weekdayCount * WEEKDAY_HOURS;
            let totalWeekendHours = weekendCount * WEEKEND_HOURS;
            let totalHolidayHours = holidayCount * WEEKEND_HOURS;
            let totalHours = totalWeekdayHours + totalWeekendHours + totalHolidayHours;
            let totalPay = totalHours * OT_RATE;
            let totalDays = weekdayCount + weekendCount + holidayCount;

            document.getElementById("result").innerHTML = `
        <h3>Calculation Summary</h3>
        <p><strong>Start Date:</strong> ${start.toDateString()}</p>
        <p><strong>End Date:</strong> ${end.toDateString()}</p>
        <p><strong>Total Days:</strong> ${totalDays}</p>
        <hr>
        <p><strong>Weekdays:</strong> ${weekdayCount} × 18.75 hrs = ${totalWeekdayHours.toFixed(2)} hrs → Rs. ${(totalWeekdayHours * OT_RATE).toFixed(2)}</p>
        <p><strong>Weekends:</strong> ${weekendCount} × 27 hrs = ${totalWeekendHours.toFixed(2)} hrs → Rs. ${(totalWeekendHours * OT_RATE).toFixed(2)}</p>
        <p><strong>Public Holidays:</strong> ${holidayCount} × 27 hrs = ${totalHolidayHours.toFixed(2)} hrs → Rs. ${(totalHolidayHours * OT_RATE).toFixed(2)}</p>
        <hr>
        <p><strong>Total OT Hours:</strong> ${totalHours.toFixed(2)} hrs</p>
        <p><strong>Total OT Pay:</strong> Rs. ${totalPay.toFixed(2)}</p>
      `;

            document.getElementById("weekends").innerHTML = weekendList.length
                ? weekendList.map(d => `<li>${d}</li>`).join("")
                : "<li>None</li>";
            document.getElementById("holidays").innerHTML = holidayList.length
                ? holidayList.map(d => `<li>${d}</li>`).join("")
                : "<li>None</li>";
        }
    </script>
    <!-- Footer -->
    <footer>
        Designed by <a href="https://github.com/Pinidu-Subasinghe" target="_blank">Pinidu-Subasinghe</a>
    </footer>
</body>

</html>